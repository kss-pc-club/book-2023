---
title: ソフトウェアシンセサイザを作ってみよう
auther: Nagaso.cpp
---

# ソフトウェアシンセサイザを作ってみよう

<span class="author">Nagaso.cpp</span>

## はじめに
  
こんにちは。6期生の Nagaso.cpp です。昨年に引き続き部誌の執筆に参加しました。  
今年はソフトウェアシンセサイザの自作に挑戦してみました。趣味の DTM でプラグインシンセサイザをいじっているうちに自作したくなったので、簡単なものを作ってみることにしました。

## シンセサイザとは？

シンセサイザとは、電気が持つ波を変換にして音にし、それを組み合わせて様々な音色を出すことのできる電気楽器です。エレキギターやエレクトリックピアノも電気楽器ですが、これらは発音自体はアコースティック（「音を鳴らす」という行為自体には電気を要さない）なのに対して、シンセサイザは発音にも電気を使うという特徴があります。具体例として、DTM での作曲に用いられるプラグインシンセサイザ「Vital」を見てみましょう。

![Vital の画面](vital.png)

こちらが Vital の画面です。この画面を参考に、シンセサイザの主な機能を見ていきましょう。

![Vital：オシレータ](vital_oscillator.png)

左上ではオシレータの設定をすることができます。オシレータは音の元となる波形を作りだすものです。波形には様々な種類があり、サイン波やのこぎり波、パルス波などがあります。この波形を更に細かく弄ったり、その他様々なパラメータを弄ったりすることができます。

![Vital：エンベロープ](vital_envelope.png)

右上ではエンベロープの設定をすることができます。エンベロープは、以下の6つのパラメータを変更することで、オシレータで設定した音の鳴り方を調整することができます。

- DELAY  
音の入力があってから音が鳴り始めるまでの秒数を設定できます。

- ATTACK  
音の入力があってから最大音量に達するまでの時間を設定できます。何も弄らなければ鳴った瞬間に最大の音量になります。

- HOLD  
最大音量になってからその状態をキープする秒数を指定できます。

- SUSTAIN  
音を鳴らし続けた時に最終的に到達する音量を設定できます。例えば、ピアノは鍵盤を押し続けると減衰して音は聞こえなくなるので、SUSTAIN は0になります。

- DECAY  
SUSTAIN で設定した音量に達するまでの時間を設定できます。

- RELEASE  
音の入力が終わってから完全に音が消えるまでの時間を設定できます。

![Vital：LFO](vital_lfo.png)

右側の真ん中では LFO の設定をすることができます。LFO は Low Frequency Oscillator の略で、その名の通りオシレータの一種ですが、通常のオシレータとは違い 4Hz 程度の低い周波数の音を出します。こちらも波形を弄ることができ、オシレータやフィルタなど様々な部分に細かな変化を生み出し、音に動きを作り出すことができます。

![Vital：Filter](vital_filter.png)

左下ではフィルターの設定をすることができます。フィルターは鳴っている音の高域あるいは低域の周波数の成分をカットして、音色を変化させることができます。

## 実装する機能

　さて、ここからは本題に入っていきます。さすがに Vital のような完璧なものを作るのは今の私の技術力では無理なので、オシレータ・エンヴェロープ・LFO の3つの機能を搭載したシンプルなシンセサイザを作ることにしました。

- オシレータ
サイン波とのこぎり波の2つを実装し、切り替えられるようにします。また、Vital 同様波形を表示して視覚的に分かりやすくします。

- エンベロープ
DELAY 以外の5つを実装します。

- LFO
ごく簡単なものを実装します。

## 使用する技術

言語：C++

フレームワーク：OpenSiv3D v0.6.9




